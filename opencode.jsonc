{
  "$schema": "https://opencode.ai/config.json",

  "model": "google/gemini-3-flash-preview",
  "small_model": "opencode/big-pickle",

  "plugin": ["opencode-gemini-auth"],

  "instructions": [
    "AGENTS.md"
  ],
  "command": {
    "es-work": {
      "template": "Initialize Edge Stack development workflow. Check beads for tasks and prepare worktree.",
      "description": "Start feature development session"
    },
    "es-validate": {
      "template": "Run pre-commit validation. Check Workers runtime, bundle size, and types.",
      "description": "Run project validation gates"
    },
    "es-review": {
      "template": "Perform deep architectural and code review of current changes.",
      "description": "Request comprehensive code review"
    },
    "es-deploy": {
      "template": "Execute release workflow. Sync beads, run final tests, and deploy to Cloudflare.",
      "description": "Start deployment workflow"
    },
    "es-plan": {
      "template": "command/es-plan.md",
      "description": "Plan Cloudflare Workers projects with architectural guidance"
    },
    "es-triage": {
      "template": "command/es-triage.md",
      "description": "Triage findings and decisions to add to the Beads (bd) persistent task system"
    },
    "es-issue": {
      "template": "command/es-issue.md",
      "description": "Create well-structured GitHub issues or local tasks"
    },
    "es-resolve-parallel": {
      "template": "command/es-resolve-parallel.md",
      "description": "Resolve multiple tasks and issues in parallel"
    },
    "es-upstream": {
      "template": "command/es-upstream.md",
      "description": "Check upstream sources for template changes and new patterns"
    },
    "es-commit": {
      "template": "command/es-commit.md",
      "description": "Staged changes, generate commit message, and push"
    }
  },

  "formatter": {
    "prettier": {
      "command": ["npx", "prettier", "--write", "$FILE"],
      "extensions": [".js", ".ts", ".jsx", ".tsx", ".json", ".md", ".css"]
    }
  },

  "mcp": {
    "context7": {
      "type": "local",
      "command": ["npx", "-y", "@upstash/context7-mcp"],
      "enabled": true
    },
    "shadcn": {
      "type": "local",
      "command": ["npx", "shadcn@latest", "mcp"],
      "enabled": true
    },
    "tailwindcss": {
      "type": "local",
      "command": ["npx", "-y", "tailwindcss-mcp-server"],
      "enabled": true
    },
    "nuxt": {
      "type": "remote",
      "url": "https://ui.nuxt.com/mcp",
      "enabled": true
    },
    "better-auth": {
      "type": "remote",
      "url": "https://mcp.chonkie.ai/better-auth/better-auth-builder/mcp",
      "enabled": true
    },
    "playwright": {
      "type": "local",
      "command": ["npx", "@playwright/mcp@latest"],
      "enabled": true
    },
    "package-registry": {
      "type": "local",
      "command": ["npx", "-y", "package-registry-mcp"],
      "enabled": true
    },
    "cloudflare-docs": {
      "type": "remote",
      "url": "https://docs.mcp.cloudflare.com/mcp",
      "enabled": false
    },
    "polar": {
      "type": "remote",
      "url": "https://mcp.polar.sh/mcp/polar-mcp",
      "enabled": false
    }
  },

  "agent": {
    "feedback-codifier": {
      "model": "anthropic/claude-opus-4-5",
      "temperature": 0.2,
      "description": "Learning engine - extracts and validates patterns from feedback"
    }
  },

  "permission": {
    "edit": "allow",
    "bash": "allow",
    "webfetch": "allow",
    "doom_loop": "allow",
    "external_directory": "allow"
  }
}
