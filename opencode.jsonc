{
  "$schema": "https://opencode.ai/config.json",

  "model": "google/gemini-3-flash-preview",
  "small_model": "opencode/big-pickle",

  "plugin": ["opencode-gemini-auth", "oh-my-opencode"],

  "instructions": [
    "AGENTS.md"
  ],
  "command": {
    "es-work": {
      "template": "Initialize Edge Stack development workflow. Check beads for tasks and prepare worktree.",
      "description": "Start feature development session"
    },
    "es-validate": {
      "template": "Run pre-commit validation. Check Workers runtime, bundle size, and types.",
      "description": "Run project validation gates"
    },
    "es-review": {
      "template": "Perform deep architectural and code review of current changes.",
      "description": "Request comprehensive code review"
    },
    "es-deploy": {
      "template": "Execute release workflow. Sync beads, run final tests, and deploy to Cloudflare.",
      "description": "Start deployment workflow"
    },
    "es-plan": {
      "template": "command/es-plan.md",
      "description": "Plan Cloudflare Workers projects with architectural guidance"
    },
    "es-triage": {
      "template": "command/es-triage.md",
      "description": "Triage findings and decisions to add to the Beads (bd) persistent task system"
    },
    "es-issue": {
      "template": "command/es-issue.md",
      "description": "Create well-structured GitHub issues or local tasks"
    },
    "es-resolve-parallel": {
      "template": "command/es-resolve-parallel.md",
      "description": "Resolve multiple tasks and issues in parallel"
    },
    "es-upstream": {
      "template": "command/es-upstream.md",
      "description": "Check upstream sources for template changes and new patterns"
    },
    "es-commit": {
      "template": "command/es-commit.md",
      "description": "Staged changes, generate commit message, and push"
    },
    "es-release": {
      "template": "command/es-release.md",
      "description": "Execute release workflow with versioning"
    },
    "es-auth-setup": {
      "template": "command/es-auth-setup.md",
      "description": "Set up better-auth authentication"
    },
    "es-billing-setup": {
      "template": "command/es-billing-setup.md",
      "description": "Set up Polar.sh billing integration"
    },
    "es-email-setup": {
      "template": "command/es-email-setup.md",
      "description": "Set up Resend email integration"
    },
    "es-test-setup": {
      "template": "command/es-test-setup.md",
      "description": "Set up Playwright testing"
    },
    "es-test-gen": {
      "template": "command/es-test-gen.md",
      "description": "Generate Playwright tests for a feature"
    },
    "es-component": {
      "template": "command/es-component.md",
      "description": "Create shadcn/ui component"
    },
    "es-theme": {
      "template": "command/es-theme.md",
      "description": "Set up or modify theme/design system"
    },
    "es-design-review": {
      "template": "command/es-design-review.md",
      "description": "Review UI/UX design patterns"
    },
    "es-tanstack-route": {
      "template": "command/es-tanstack-route.md",
      "description": "Create TanStack Start route"
    },
    "es-tanstack-server-fn": {
      "template": "command/es-tanstack-server-fn.md",
      "description": "Create TanStack server function"
    },
    "es-tanstack-component": {
      "template": "command/es-tanstack-component.md",
      "description": "Create TanStack-integrated component"
    },
    "es-tanstack-migrate": {
      "template": "command/es-tanstack-migrate.md",
      "description": "Migrate from other frameworks to TanStack"
    },
    "es-migrate": {
      "template": "command/es-migrate.md",
      "description": "General migration utilities"
    },
    "es-blogs": {
      "template": "command/es-blogs.md",
      "description": "Monitor Anthropic blogs for updates"
    },
    "es-git-history": {
      "template": "command/es-git-history.md",
      "description": "Analyze git history and patterns"
    },
    "es-report-bug": {
      "template": "command/es-report-bug.md",
      "description": "Create bug report with context"
    },
    "es-generate-command": {
      "template": "command/es-generate-command.md",
      "description": "Generate new slash command"
    },
    "es-verify-output": {
      "template": "command/es-verify-output.md",
      "description": "Verify AI output against requirements"
    }
  },

  "formatter": {
    "prettier": {
      "command": ["npx", "prettier", "--write", "$FILE"],
      "extensions": [".js", ".ts", ".jsx", ".tsx", ".json", ".md", ".css"]
    }
  },

  "mcp": {
    "mgrep": {
      "type": "local",
      "command": ["mgrep", "mcp"],
      "enabled": true
    },
    "shadcn": {
      "type": "local",
      "command": ["npx", "shadcn@latest", "mcp"],
      "enabled": true
    },
    "better-auth": {
      "type": "remote",
      "url": "https://mcp.chonkie.ai/better-auth/better-auth-builder/mcp",
      "enabled": true
    },
    "playwright": {
      "type": "local",
      "command": ["npx", "@playwright/mcp@latest"],
      "enabled": true
    },
    "package-registry": {
      "type": "local",
      "command": ["npx", "-y", "package-registry-mcp"],
      "enabled": true
    }
  },

  "agent": {
    "feedback-codifier": {
      "model": "anthropic/claude-opus-4-5",
      "temperature": 0.2,
      "description": "Learning engine - extracts and validates patterns from feedback"
    }
  },

  "permission": {
    "edit": "allow",
    "bash": "allow",
    "webfetch": "allow",
    "doom_loop": "allow",
    "external_directory": "allow"
  }
}
